{% extends 'base.html' %}

{% block content %}
<main class="content">
	
		<div class="container">
			
	<h1 class="d-flex align-items-center justify-content-center">Liste des enregistrements</h1>
</div>
	

<div class="card border-0 shadow mb-4">
                <div class="card-body">
                    <div class="table-responsive">
                        <table class="table table-centered table-nowrap mb-0 rounded">
                            <thead class="thead-light">
                                <tr>
                                    
                                    <th class="border-0">Nom</th>
                                    <th class="border-0">Prénom</th>
                                    <th class="border-0">Spécialité</th>
									<th class="border-0">Actions</th>
                                    
                                </tr>
                            </thead>
                            <tbody>
								{% for stagiaire in stagiaires %}
                                <!-- Item -->
                                <tr>
                                    <td>
                                        <a href="{% url 'view_profil' stagiaire.id %}" class="text-primary fw-bold">{{ stagiaire.last_name }}</a>
                                    </td>
                                    <td>
										{{ stagiaire.first_name }}
                                    </td>
                                    <td>
										{{ stagiaire.specialite }}
                                    </td>
									<td>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="card border-0">
                                                    <div class="col-lg-4">
                                                        <a href="{% url 'view_profil' stagiaire.id %}" type="button" class="btn btn-block btn-success mb-0" data-bs-toggle="modal" data-bs-target="#modal-default-{{ stagiaire.id }}"><i class="fa fa-eye"></i>&nbsp;Voir</a>
                                                        <div class="modal fade" id="modal-default-{{ stagiaire.id }}" tabindex="-1" aria-labelledby="modal-default-{{ stagiaire.id }}" style="display: none;" aria-hidden="true">
                                                            <div class="modal-dialog modal-dialog-centered" role="document">
                                                                <div class="modal-content">
                                                                    <div class="modal-header">
                                                                        <h2 class="h6 modal-title">Fiche d'enregistrement de {{ stagiaire.first_name }}&nbsp;{{ stagiaire.last_name }}</h2>
                                                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                                                    </div>
                                                                    <div class="modal-body modal-body-private">
                                                                        <table class="table-detail">
                                                                            <tbody>
                                                                                <tr>
                                                                                    <th class="border-0">Nom :</th>
                                                                                    <th class="border-0">Prénom :</th>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td><p><strong>{{ stagiaire.last_name }}</strong></p></td>
                                                                                    <td><p><strong>{{ stagiaire.first_name }}</strong></p></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <th>Date de Naissance :</th>
                                                                                    <th>Email :</th>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td><p><strong> {{ stagiaire.birthday }}</strong></p></td>
                                                                                    <td><p><strong>{{ stagiaire.email }}</strong></p></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <th>Télephone :</th>
                                                                                    <th>Télephone d'urgence :</th>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td><p><strong>{{ stagiaire.phone }}</strong></p></td>
                                                                                    <td><p><strong>{{ stagiaire.emergency_phone }}</strong></p></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <th>Date d'enregistrement :</th>
                                                                                    <th>CV :</th>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td><p><strong>{{ stagiaire.created_at }}</strong></p></td>
                                                                                    <td><p><a href="{{ stagiaire.cv.url }}" target="_blank">Voir le document <i class="fa fa-download"></i></a></p></td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <th>Diplome :</th>
                                                                                    <th>Attestation :</th>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td><p><a href="{{ stagiaire.diplome.url }}" target="_blank">Voir le document <i class="fa fa-download"></i></a></p></td>
                                                                                    <td><p><a href="{{ stagiaire.attestation.url }}" target="_blank">Voir le document <i class="fa fa-download"></i></a></p></td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                    <div class="modal-footer">
                                                                        <!-- <button type="button" class="btn btn-secondary">Accept</button> -->
                                                                        <button type="button" class="btn btn-warning btn-sm"><a href="{% url 'stagiaire_edit' stagiaire.id %}"><i class="fa fa-pencil"></i>&nbsp;Modifier</a></button>
                                                                        <button type="button" class="btn btn-link text-gray-600 ms-auto" data-bs-dismiss="modal">Fermer</button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <button class="btn btn-success btn-sm" data-bs-toggle="modal" data-bs-target="#modal-default"><i class="fa fa-eye"></i>&nbsp;Voir<a href="{% url 'view_profil' stagiaire.id %}">voir</a></button> -->
                                        <!-- <button type="button" class="btn btn-warning btn-sm"><a href="{% url 'stagiaire_edit' stagiaire.id %}"><i class="fa fa-pencil"></i>&nbsp;Modifier</a></button> -->
                                    </td>
								</tr>
                                <!-- End of Item -->

                                <!-- Item -->
                              
								{% endfor %}  
                                <!-- End of Item -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
		</div>
        </main>
{% endblock %}